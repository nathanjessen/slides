jQuery(document).ready(function(e){var t,r={slideshow:"webslides",slide:"slide",counter:"counter",navigation:"navigation",next:"next",previous:"previous",current:"current",verticalClass:"vertical"},n="ontouchstart"in document.documentElement&&navigator.userAgent.match(/Mobi/),s=jQuery("#"+r.slideshow),a=jQuery("<div>").attr("id","navigation"),i=s.children("section").addClass(r.slide),l=i.first(),o=(i.last(),i.length),u={next:s.hasClass(r.verticalClass)?"&darr;":"&rarr;",previous:s.hasClass(r.verticalClass)?"&uarr;":"&larr;",separator:" / "};jQuery("head").append("<style> .slide:nth-child("+o+") { page-break-after: auto }</style>"),s.children().not("section").remove(),a.append(jQuery('<a href="#" title="Arrow Keys">').attr("id",r.previous).html(u.previous)),a.append(jQuery('<a href="#" title="Arrow Keys">').attr("id",r.next).html(u.next)),s.append(a),s.append(jQuery("<span>").attr("id",r.counter));var c=jQuery("#"+r.counter),d=jQuery("#"+r.next),h=jQuery("#"+r.previous);a.append(c);var v=function(){c.text(g.current+u.separator+g.last)},f=function(){var e=document.location.toString();1!=e.indexOf("#")&&(e=e.substr(0,e.indexOf("#"))),history.pushState(null,null,"#slide="+g.current)},m=function(){t&&t.hide().removeClass(r.current)};s.data("moving",!1);var y=function(){if(s.hasClass(r.verticalClass)&&!n){if(s.data("moving"))return;s.data("moving",!0),jQuery("html").css({overflow:"hidden"});var e;e=t.next(),g.current=(g.current+1)%o,0==g.current&&(g.current=o),e.show().addClass(r.current);var a=!1;jQuery("html, body").animate({scrollTop:e.offset().top},500,"swing",function(){a||(t.hide().removeClass(r.current),t.siblings(".slide").last().after(t),t=e,v(),f(),w(),jQuery("html").css({overflow:"auto"}),setTimeout(function(){s.data("moving",!1)},s.data("iswheel")?150:0)),a=!0})}else{jQuery("html, body").animate({scrollTop:0},0),m();var e=t.next();e.show().addClass(r.current),t.siblings(".slide").last().after(t),t=e,g.current=(g.current+1)%o,0==g.current&&(g.current=o),v(),f(),w()}},p=function(){if(s.hasClass(r.verticalClass)&&!n){if(s.data("moving"))return;s.data("moving",!0),jQuery("html").css({overflow:"hidden"}),t.before(t.siblings(".slide").last());var e=t.prev();if(0==e.length)return!1;e.show().addClass(r.current);var a=!1;jQuery("html, body").scrollTop(t.offset().top),jQuery("html, body").animate({scrollTop:e.offset().top},500,"swing",function(){a||(t.hide().removeClass(r.current),t=e,t=e,g.current=1==g.current?o:g.current-1,v(),f(),w(),jQuery("html").css({overflow:"auto"}),setTimeout(function(){s.data("moving",!1)},s.data("iswheel")?150:0)),a=!0})}else{jQuery("html, body").animate({scrollTop:0},0),m(),t.before(t.siblings(".slide").last());var e=t.prev();e.show().addClass(r.current),t=e,g.current=1==g.current?o:g.current-1,v(),f(),w()}},w=function(e){var r=new window.CustomEvent("slidechanged",{detail:{slide:e||t}});window.dispatchEvent(r)};i.hide();var g={current:1,last:i.length},C=parseInt(document.location.hash.replace("#slide=",""));C&&C>0&&C<=i.length?function(e){m(),moveToSlide=e-1,t=i.eq(moveToSlide),t.show().addClass(r.current),jQuery(".slide:lt("+(e-1)+")").each(function(){var e=jQuery(this);e.siblings(".slide").last().after(e)}),g.current=e,v()}(C):(t=l.show().addClass(r.current),v()),d.click(function(e){e.preventDefault(),y()}),h.click(function(e){e.preventDefault(),p()}),jQuery(document).keydown(function(e){if(!s.hasClass(r.verticalClass)||n){if(s.data("iswheel",!1),39==e.which||32==e.which)return y(),!1;if(37==e.which)return p(),!1}}),jQuery(document).keydown(function(e){if(s.hasClass(r.verticalClass)&&!n){if(s.data("iswheel",!1),40==e.which||32==e.which)return y(),!1;if(38==e.which)return p(),!1}}),jQuery("ul.tabs li").click(function(){var e=jQuery(this),t=e.attr("data-tab");jQuery("ul.tabs li").removeClass("current"),jQuery(".tab-content").removeClass("current"),e.addClass("current"),jQuery("#"+t).addClass("current")})}),$(document).keypress(function(e){13==e.which&&$("body").toggleClass("baseline").css("height",$(document).height())});